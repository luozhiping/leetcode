# 939. 最小面积矩形
# https://leetcode-cn.com/problems/minimum-area-rectangle/
import sys
class Solution(object):
    def minAreaRect(self, points):
        """
        :type points: List[List[int]]
        :rtype: int
        """
        x = {}
        y = {}
        for point in points:
            if point[0] in x:
                x[point[0]].append(point[1])
            else:
                x[point[0]] = [point[1]]
            # if point[1] in y:
            #     y[point[1]].append(point[0])
            # else:
            #     y[point[1]] = [point[0]]
        result = sys.maxsize
        keys = sorted(x.keys())
        # print(keys, x)
        for i, key in enumerate(keys):
            if len(x[key]) < 2:
                continue
            for m in range(len(x[key])):
                point1 = x[key][m]
                for n in range(m+1, len(x[key])):
                    point2 = x[key][n]
                    for j in range(i+1, len(keys)):
                        if abs(keys[j] - key)*abs(point2-point1) >= result:
                            break
                        if point1 in x[keys[j]] and point2 in x[keys[j]]:
                            result = min(result, abs(point2 - point1)*abs(keys[j] - key))
        # print(result)
        return result if result < sys.maxsize else 0


s = Solution()
assert s.minAreaRect([[1,1],[1,3],[3,1],[3,3],[2,2]]) == 4
assert s.minAreaRect([[1,1],[1,3],[3,1],[3,3],[4,1],[4,3]]) == 2
import time
begin = time.time()
print(s.minAreaRect([[6595,27343],[4521,11415],[23063,38560],[14450,21500],[29217,38560],[37305,17476],[4058,30515],[14947,11415],[4521,27343],[39124,27827],[11580,7993],[17743,27343],[39473,19922],[39592,18969],[6595,18969],[2465,21500],[2465,10444],[22223,3988],[36848,12048],[10845,24656],[17743,22288],[2465,27343],[22223,20422],[6595,27827],[37305,38805],[36090,30515],[23063,27827],[36090,25082],[14947,38560],[15697,38560],[39592,38560],[14947,3988],[29394,17476],[11580,38805],[29217,30515],[14450,27827],[23063,22288],[39592,36980],[39592,25082],[29217,36980],[22223,7993],[39473,21500],[4521,19464],[10845,10444],[22223,17476],[29217,12048],[37305,36980],[23063,21500],[17743,38560],[6499,25082],[17743,19464],[36090,22288],[10845,27343],[37305,21500],[23063,4921],[23063,3988],[4521,30515],[29217,4921],[29217,11415],[6499,36980],[4521,18969],[15697,36980],[29217,27343],[6595,21500],[29241,38805],[22223,24656],[6499,30515],[14450,38560],[37305,4921],[39124,21500],[14947,25082],[2465,36980],[37305,12048],[15697,17478],[6499,38560],[17743,19922],[22223,12048],[4058,7993],[39124,12048],[37305,20422],[36090,21500],[14947,19464],[14947,27827],[36848,3988],[36848,19922],[29241,21500],[10845,20422],[2465,7993],[4058,38560],[4521,17478],[4058,19464],[37305,38560],[29217,20422],[36090,12048],[29217,25082],[6595,36980],[10845,18969],[4058,17478],[17743,10444],[17743,20422],[6595,25082],[36090,20422],[22223,27343],[4521,25082],[29241,20422],[39592,3988],[6595,12048],[39473,10444],[6499,18969],[22223,4921],[39124,38805],[22223,17478],[4521,27827],[36090,18969],[39473,36980],[39473,38805],[29217,27827],[15697,24656],[39124,11415],[17743,38805],[23063,38805],[17743,17476],[39124,19922],[4058,10444],[37305,11415],[36090,27343],[29217,18969],[39592,10444],[10845,36980],[22223,38560],[2465,19922],[36848,27343],[23063,10444],[4521,22288],[39473,22288],[15697,17476],[11580,19922],[15697,30515],[39124,4921],[14450,7993],[14450,22288],[29241,30515],[23063,11415],[39592,12048],[17743,24656],[14450,11415],[6499,4921],[6499,10444],[15697,21500],[22223,18969],[29217,24656],[37305,27343],[6499,12048],[39592,24656],[36090,4921],[39124,10444],[6499,17476],[15697,4921],[39124,30515],[6595,24656],[14450,38805],[4521,20422],[39592,4921],[23063,12048],[36848,17478],[29217,22288],[37305,17478],[11580,27343],[4058,17476],[14947,20422],[6499,24656],[39592,17476],[4521,3988],[22223,36980],[6595,3988],[29241,10444],[17743,12048],[15697,10444],[39473,25082],[6595,17476],[23063,30515],[39473,17478],[2465,24656],[23063,19464],[39592,30515],[10845,38560],[29241,27343],[4058,24656],[10845,25082],[22223,10444],[37305,25082],[29241,19922],[11580,19464],[15697,22288],[15697,38805],[11580,38560],[39124,17476],[39473,30515],[2465,3988],[29241,7993],[14450,24656],[39592,19922],[39124,19464],[4058,12048],[17743,4921],[37305,27827],[36090,11415],[17743,17478],[29394,19922],[10845,22288],[29394,3988],[39124,24656],[14947,7993],[29241,17476],[29394,27343],[6499,3988],[6499,19922],[11580,18969],[4521,7993],[37305,18969],[36848,20422],[4521,38560],[6595,7993],[6595,38560],[22223,38805],[29241,38560],[36848,36980],[29217,17478],[2465,12048],[23063,19922],[15697,19464],[39124,18969],[29241,22288],[39473,4921],[39473,11415],[15697,12048],[36848,21500],[4058,25082],[14947,36980],[14947,38805],[11580,3988],[39124,20422],[22223,19464],[39473,24656],[15697,18969],[4058,38805],[4521,36980],[17743,18969],[36848,25082],[4058,22288],[36848,18969],[39592,17478],[11580,20422],[14947,27343],[14450,4921],[36848,11415],[6595,17478],[36090,17478],[11580,4921],[39473,17476],[36848,7993],[29394,38805],[14947,21500],[6499,17478],[29394,38560],[2465,11415],[17743,36980],[6595,19922],[39124,17478],[4521,19922],[10845,7993],[14450,36980],[29394,22288],[29241,4921],[14947,19922],[39592,19464],[14450,19922],[4058,27827],[29241,12048],[39592,11415],[10845,30515],[14450,27343],[39124,36980],[6595,19464],[36848,38560],[10845,12048],[36848,4921],[23063,17476],[29217,10444],[36090,38560],[36090,38805],[17743,21500],[15697,19922],[29394,20422],[15697,25082],[36090,10444],[11580,27827],[23063,7993],[29217,7993],[11580,22288],[23063,27343],[29241,36980],[15697,11415],[14450,19464],[39473,27827],[23063,24656],[4058,36980],[2465,25082],[37305,7993],[2465,30515],[37305,3988],[11580,25082],[4058,20422],[6499,27343],[39592,22288],[29394,7993],[10845,27827],[6499,11415],[10845,3988],[29394,24656],[4521,24656],[39473,18969],[17743,27827],[4058,4921],[39124,3988],[14947,18969],[22223,30515],[29394,19464],[36848,27827],[36848,22288],[6595,10444],[2465,4921],[11580,12048],[4058,21500],[14450,17478],[36090,17476],[4521,17476],[23063,20422],[23063,18969],[14947,10444],[36090,3988],[36090,19464],[10845,17476],[2465,27827],[29241,3988],[39592,20422],[39473,19464],[36848,24656],[4521,4921],[36090,24656],[39473,12048],[14450,18969],[4058,11415],[29241,17478],[6499,20422],[10845,4921],[14947,24656],[10845,19922],[4058,18969],[6499,19464],[36848,17476],[29241,18969],[14450,20422],[36848,38805],[23063,17478],[39473,27343],[14450,30515],[14947,17476],[14450,3988],[39592,27343],[29394,10444],[29394,18969],[23063,36980],[4521,38805],[6595,38805],[22223,21500],[10845,11415],[6499,27827],[17743,30515],[11580,30515],[11580,17476],[39124,7993],[17743,11415],[10845,19464],[39592,38805],[37305,10444],[2465,17478],[29217,3988],[23063,25082],[39124,27343],[17743,25082],[36848,10444],[6499,7993],[39473,20422],[6595,11415],[39124,38560],[39592,27827],[36090,7993],[2465,38805],[11580,24656],[37305,19922],[39473,38560],[14450,17476],[39473,3988],[29394,27827],[15697,7993],[6595,20422],[22223,27827],[29241,19464],[29241,11415],[39592,7993],[39124,25082],[2465,18969],[17743,3988],[11580,11415],[37305,22288],[29217,19922],[36848,30515],[10845,17478],[29241,24656],[15697,27827],[36090,36980],[37305,30515],[6499,38805],[29394,25082],[4521,12048],[6595,22288],[11580,10444],[14947,30515],[14450,12048],[29217,19464],[29394,36980],[15697,27343],[29217,38805],[29217,17476],[29394,30515],[29217,21500],[37305,19464],[14450,10444],[2465,22288],[36848,19464],[14450,25082],[10845,38805],[29394,17478],[6499,21500],[14947,17478],[4058,19922],[37305,24656],[4058,3988],[17743,7993],[22223,22288],[11580,21500],[4521,21500],[29394,12048],[39124,22288],[14947,4921],[29394,4921],[6499,22288],[2465,19464],[14947,12048],[2465,38560],[11580,17478],[4058,27343],[6595,4921],[15697,20422],[2465,20422],[2465,17476],[22223,19922],[29241,25082],[29394,21500],[15697,3988],[14947,22288],[11580,36980],[39473,7993],[39592,21500],[4521,10444],[29394,11415],[10845,21500],[22223,11415],[29241,27827],[6595,30515],[36090,19922],[36090,27827],[22223,25082]]))
print(time.time() - begin)